var e=require("eventemitter3"),t=require("react"),n=require("lodash"),r=require("react-use"),o=require("react/jsx-runtime"),i=require("nanoid");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=new(/*#__PURE__*/u(e).default);a.emit=function(){var e,t=[].slice.call(arguments),n=String(t[0]),r=t[0].uuid;return r&&l(n,r),(e=this.constructor.prototype.emit).call.apply(e,[this].concat(t))};var c,s=new Map,l=function(e,t){s.has(e)&&s.get(e)!==t&&console.warn('Another event named "'+e+'" already exists. Duplicate events share the same listener. This can lead to unexpected issues if their payload differs. Make sure to call the `createEvent` function only once per event and reuse the resulting functions throughout your application.'),s.set(e,t)},f=a,p=function(e,t){void 0===t&&(t=f),r.useIsomorphicLayoutEffect(function(){return n.forIn(e,function(e,n){t.addListener(n,e)}),function(){n.forIn(e,function(e,n){t.removeListener(n,e)})}},[e])},d=function(e,t,n){void 0===n&&(n=f),r.useIsomorphicLayoutEffect(function(){return n.addListener(e,t),function(){n.removeListener(e,t)}},[t])},v=function(e){var n=t.useRef(function(){throw new Error("Cannot call an event handler during the first render.")});return r.useIsomorphicLayoutEffect(function(){n.current=e}),t.useCallback(function(){var e;return null==(e=n.current)?void 0:e.apply(null,[].slice.call(arguments))},[])},m=/*#__PURE__*/t.createContext(),h=!("undefined"==typeof window||null==(c=window.document)||!c.createElement);function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}exports.EventEmitterContext=m,exports.EventEmitterProvider=function(e){var t=e.emitter,n=null!=t?t:f,r={emitter:n,emit:function(){return n.emit.apply(n,[].slice.call(arguments))},useListener:function(e,t){return d(e,t,n)},useListeners:function(e){return p(e,n)}};/*#__PURE__*/return o.jsx(m.Provider,{value:r,children:e.children})},exports.EventOpen=function(){},exports.createAction=function(e,t){function n(){var n=[].slice.call(arguments);if(t){var r=t.apply(void 0,n);if(!r)throw new Error("prepareAction did not return an object");return y({type:e,payload:r.payload},"meta"in r&&{meta:r.meta},"error"in r&&{error:r.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.uuid=i.nanoid(),n.type=e,n.match=function(t){return t.type===e},n},exports.createEvent=function(e,t){var n;void 0===t&&(t={});var o=null!=(n=t.emitter)?n:f;return[function(t){h?o.emit(e,t):console.warn('Could not emit "'+e+'" event. Events cannot be emitted from the server.')},function(t){var n=v(t);r.useIsomorphicLayoutEffect(function(){return o.addListener(e,n),function(){o.removeListener(e,n)}},[n])}]},exports.emitter=f,exports.useEvent=v,exports.useEventEmitter=function(){return t.useContext(m)},exports.useEventListener=d,exports.useEventListeners=p;
//# sourceMappingURL=index.js.map
